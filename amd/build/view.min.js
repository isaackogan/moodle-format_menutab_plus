/**
 * Javascript Module to handle changes which are made to the course > edit settings
 * form as the user changes various options
 * e.g. if user deselects one item, this deselects another linked one for them
 * if the user picks an invalid option it will be detected by format_tiles::edit_form_validation (lib.php)
 * but this is to help them avoid triggering that if they have JS enabled
 *
 * Plugin version and other meta-data are defined here.
 *
 * @package     format_menutab
 * @copyright   2022 UIT Innovation  <thibaud@yorku.ca>
 * @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 *  */
define("format_menutab/view",["jquery","core/config"],(function($,mdlcfg){return{init:function(){$(document).ready((function(){if($("#page-course-view-menutab").length&&!$("#format_menutab_grid").length){let course=function(){for(var hash,vars=[],hashes=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<hashes.length;i++)hash=hashes[i].split("="),vars.push(hash[0]),vars[hash[0]]=hash[1];return vars}().id;course=course.replace("#","");let html='<div style="float: right;">&nbsp;&nbsp;\n                    <a href="#"\n                    title="Grid view" data-view="grid" data-course="'+course+'" class="btn_grid_list_view">\n                        <i class="fa fa-th" style="font-size:0.9em"></i></a>\n                </div>';$(".page-header-headings").closest("div").find("h1").append(html)}$(".btn_grid_list_view").on("click",(function(){let view=$(this).data("view"),course=$(this).data("course");"grid"==view?$.ajax({url:mdlcfg.wwwroot+"/course/format/menutab/update_view.php?course="+course+"&table_contents=0",success:function(){location.reload()}}):$.ajax({url:mdlcfg.wwwroot+"/course/format/menutab/update_view.php?course="+course+"&table_contents=1",success:function(){location.reload()}})})),setTimeout((function(){!function(){let number_of_sections=$("#number-of-sections-to-show").val();$(".courseindex-section").each((function(index,section){$(this).data("number")>number_of_sections&&$(this).hide()}))}()}),1e3)}))}}}));

//# sourceMappingURL=view.min.js.map