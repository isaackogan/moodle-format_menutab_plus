/**
 * Javascript Module to handle changes which are made to the course > edit settings
 * form as the user changes various options
 * e.g. if user deselects one item, this deselects another linked one for them
 * if the user picks an invalid option it will be detected by format_tiles::edit_form_validation (lib.php)
 * but this is to help them avoid triggering that if they have JS enabled
 *
 * Plugin version and other meta-data are defined here.
 *
 * @package     format_menutab
 * @copyright   2022 UIT Innovation  <thibaud@yorku.ca>
 * @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 *  */ define(["jquery","core/config"],function(e,t){return{init:function(){e(document).ready(function(){if(e("#page-course-view-menutab").length&&!e("#format_menutab_grid").length){let i=function e(){for(var t,i=[],a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),n=0;n<a.length;n++)t=a[n].split("="),i.push(t[0]),i[t[0]]=t[1];return i}().id,a='<div style="float: right;">&nbsp;&nbsp;\n                    <a href="#"\n                    title="Grid view" data-view="grid" data-course="'+(i=i.replace("#",""))+'" class="local_menutab_grid_list_view">\n                        <i class="fa fa-th" style="font-size:0.5em"></i></a>\n                </div>';e(".page-header-headings").closest("div").find("h1").append(a)}e(".local_menutab_grid_list_view").on("click",function(){let i=e(this).data("view"),a=e(this).data("course");"grid"==i?e.post(t.wwwroot+"/course/format/menutab/update_view.php?course="+a+"&table_contents=0"):e.post(t.wwwroot+"/course/format/menutab/update_view.php?course="+a+"&table_contents=1"),location.reload()})})}}});