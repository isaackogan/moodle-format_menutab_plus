/**
 * Javascript Module to handle changes which are made to the course > edit settings
 * form as the user changes various options
 * e.g. if user deselects one item, this deselects another linked one for them
 * if the user picks an invalid option it will be detected by format_tiles::edit_form_validation (lib.php)
 * but this is to help them avoid triggering that if they have JS enabled
 *
 * Plugin version and other meta-data are defined here.
 *
 * @package     format_menutab
 * @copyright   2022 UIT Innovation  <thibaud@yorku.ca>
 * @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 *  */ define(["jquery","core/config"],function(e,t){return{init:function(){e(document).ready(function(){if(e("#page-course-view-menutab").length&&!e("#format_menutab_grid").length){let a=function e(){for(var t,a=[],i=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),n=0;n<i.length;n++)t=i[n].split("="),a.push(t[0]),a[t[0]]=t[1];return a}().id,i='<div style="float: right;">&nbsp;&nbsp;\n                    <a href="#"\n                    title="Grid view" data-view="grid" data-course="'+(a=a.replace("#",""))+'" class="local_menutab_grid_list_view">\n                        <i class="fa fa-th" style="font-size:0.5em"></i></a>\n                </div>';e(".page-header-headings").closest("div").find("h1").append(i)}e(".local_menutab_grid_list_view").on("click",function(){let a=e(this).data("view"),i=e(this).data("course");"grid"==a?e.ajax({url:t.wwwroot+"/course/format/menutab/update_view.php?course="+i+"&table_contents=0"}):e.ajax({url:t.wwwroot+"/course/format/menutab/update_view.php?course="+i+"&table_contents=1"}),location.reload()})})}}});