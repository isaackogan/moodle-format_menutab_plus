/**
 * Javascript Module to handle changes which are made to the course > edit settings
 * form as the user changes various options
 * e.g. if user deselects one item, this deselects another linked one for them
 * if the user picks an invalid option it will be detected by format_tiles::edit_form_validation (lib.php)
 * but this is to help them avoid triggering that if they have JS enabled
 *
 * Plugin version and other meta-data are defined here.
 *
 * @package     format_menutab
 * @copyright   2022 UIT Innovation  <thibaud@yorku.ca>
 * @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 *  */
define("format_menutab/image_resize",["jquery","core/config"],(function($,mdlcfg){return{init:function(){const summary=document.getElementsByClassName("course-description-item summarytext");for(let i=0;i<summary.length;i++){const image=summary[i].getElementsByTagName("img")[0];if(image){image.parentNode.removeChild(image);let summaryText=summary[i].innerHTML,imageSrc=image.currentSrc;summaryText=summaryText.replace(/<img[^>]*>/gi,""),summary[i].innerHTML="";let style="<style>";style+=".format_menuttab_section_summary_"+i+" {",style+="width: 100%;",style+="height: 150px;",style+='background-image: url("'+imageSrc+'");',style+="background-repeat:no-repeat;",style+="background-position: center center;",style+="background-size: cover;",style+="}",style+="</style>";let html='<div class="format_menuttab_section_summary_'+i+'"></div>';html+=summaryText,document.head.innerHTML+=style,summary[i].innerHTML=html}}}}}));

//# sourceMappingURL=image_resize.min.js.map